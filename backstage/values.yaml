replicaCount: 1

image:
  registry: docker.io
  repository: backstage/backstage
  tag: latest
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 7007

ingress:
  enabled: true
  className: traefik
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: backstage.metube.dk
      paths:
        - path: /
          pathType: Prefix
  tls:
    - hosts:
        - backstage.metube.dk
      secretName: backstage-tls

appConfig:
  app:
    title: Backstage
    baseUrl: https://backstage.metube.dk

  backend:
    baseUrl: https://backstage.metube.dk
    listen:
      port: 7007
    csp:
      connect-src: ["'self'", "https:", "http:"]
    cors:
      origin: https://backstage.metube.dk
      methods: [GET, POST, PUT, DELETE]
      credentials: true

  organization:
    name: FrischWork

  auth:
    providers:
      guest: {}

  kubernetes:
    serviceLocatorMethod:
      type: multiTenant
    clusterLocatorMethods:
      - type: config
        clusters:
          - name: local
            url: https://kubernetes.default.svc
            authProvider: serviceAccount
            skipTLSVerify: false

postgresql:
  enabled: true
  auth:
    username: backstage
    password: backstage
    database: backstage
  primary:
    persistence:
      enabled: true
      size: 5Gi
